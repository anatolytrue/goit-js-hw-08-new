{"mappings":"AAEA,MAAMA,EAAOC,SAASC,cAAc,kBAGpC,IAAIC,EAAWC,aAAaC,QAFH,uBAE+BC,KAAKC,MAAMH,aAAaC,QAFvD,wBAEoF,GAC7GL,EAAKQ,iBAAiB,SAoBtB,SAAqBC,GACjBA,EAAEC,iBACFP,EAASM,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MACnCT,aAAaU,QA1BQ,sBA0BkBR,KAAKS,UAAUZ,G,IAtB1DH,EAAKQ,iBAAiB,UAyBtB,SAAsBC,GAClBA,EAAEC,iBACF,MAAQM,UAAUC,MAAEA,EAAKC,QAAEA,IAAcT,EAAEU,cACrCC,EAAa,CAAEH,MAAOA,EAAMJ,MAAOK,QAASA,EAAQL,OAC1D,GAAoB,KAAhBI,EAAMJ,OAAkC,KAAlBK,EAAQL,MAC9B,OAAOQ,MAAM,2BAEjBC,QAAQC,IAAIH,GACZhB,aAAaoB,WArCQ,uBAsCrBxB,EAAKyB,O,IAhCTH,QAAQC,IAAIpB,GACZmB,QAAQC,IAAIvB,EAAKgB,UAKjB,WACI,MAAMU,EAAYtB,aAAaC,QAbV,uBAcfsB,EAAkBrB,KAAKC,MAAMmB,GAC/BC,IACA3B,EAAKgB,SAASC,MAAMJ,MAAQc,EAAgBV,OAAS,GACrDjB,EAAKgB,SAASE,QAAQL,MAAQc,EAAgBT,SAAW,G,CAPjEU","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector('.feedback-form')\nconst LOCALSTORAGE_KEY = \"feedback-form-state\"\n\nlet formData = localStorage.getItem(LOCALSTORAGE_KEY) ? JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)) : {}\nform.addEventListener('input', onFormInput)\nform.addEventListener('submit', onFormSubmit)\n\nconsole.log(formData)\nconsole.log(form.elements)\n\n\nupdateInput()\n\nfunction updateInput() {\n    const formInput = localStorage.getItem(LOCALSTORAGE_KEY)\n    const parsedFormInput = JSON.parse(formInput)\n    if (parsedFormInput) {\n        form.elements.email.value = parsedFormInput.email || ''\n        form.elements.message.value = parsedFormInput.message || ''\n    } \n}\n\n\n\nfunction onFormInput(e) {\n    e.preventDefault()\n    formData[e.target.name] = e.target.value;\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const { elements: { email, message } } = e.currentTarget;\n    const formObject = { email: email.value, message: message.value }\n    if (email.value === '' || message.value === '') {\n        return alert('Fill in all the fields!')\n    }\n    console.log(formObject)\n    localStorage.removeItem(LOCALSTORAGE_KEY)\n    form.reset()\n    // const formData = new FormData(e.currentTarget)\n    // formData.forEach((value, name) => {\n    //     if (name === '' || value === '') {\n    //         alert('Zapovny polya!')\n    //     } else {\n    //         localStorage.setItem(JSON.stringify({name, value}))\n    //         console.log({name, value})\n    //     }\n    //     form.reset()\n    // })\n}\n"],"names":["$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$formData","localStorage","getItem","JSON","parse","addEventListener","e","preventDefault","target","name","value","setItem","stringify","elements","email","message","currentTarget","formObject","alert","console","log","removeItem","reset","formInput","parsedFormInput","$945622fd0f572e60$var$updateInput"],"version":3,"file":"03-feedback.f66c03fb.js.map"}