{"mappings":"YAEA,IAcUA,EACAC,EAfJC,EAAOC,SAASC,cAAc,kBAC9BC,EAAmB,sBAErBC,EAAWC,aAAaC,QAAQH,GAAoBI,KAAKC,MAAMH,aAAaC,QAAQH,IAAqB,GAC7GH,EAAKS,iBAAiB,SAoBtB,SAAqBC,GACjBA,EAAEC,iBACFP,EAASM,EAAEE,OAAOC,MAAQH,EAAEE,OAAOE,MACnCT,aAAaU,QAAQZ,EAAkBI,KAAKS,UAAUZ,G,IAtB1DJ,EAAKS,iBAAiB,UAyBtB,SAAsBC,GAClBA,EAAEC,iBACF,IAAwDM,EAAfP,EAAEQ,cAAnCC,SAAYC,EAAKH,EAALG,MAAOC,EAAOJ,EAAPI,QACrBC,EAAa,CAAEF,MAAOA,EAAMN,MAAOO,QAASA,EAAQP,OAC1D,GAAoB,KAAhBM,EAAMN,OAAkC,KAAlBO,EAAQP,MAC9B,OAAOS,MAAM,2BAEjBC,QAAQC,IAAIH,GACZjB,aAAaqB,WAAWvB,GACxBH,EAAK2B,O,IAhCTH,QAAQC,IAAIrB,GACZoB,QAAQC,IAAIzB,EAAKmB,UAMPrB,EAAYO,aAAaC,QAAQH,IACjCJ,EAAkBQ,KAAKC,MAAMV,MAE/BE,EAAKmB,SAASC,MAAMN,MAAQf,EAAgBqB,OAAS,GACrDpB,EAAKmB,SAASE,QAAQP,MAAQf,EAAgBsB,SAAW,G","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from \"lodash.throttle\";\n\nconst form = document.querySelector('.feedback-form')\nconst LOCALSTORAGE_KEY = \"feedback-form-state\"\n\nlet formData = localStorage.getItem(LOCALSTORAGE_KEY) ? JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)) : {}\nform.addEventListener('input', onFormInput)\nform.addEventListener('submit', onFormSubmit)\n\nconsole.log(formData)\nconsole.log(form.elements)\n\n\nupdateInput()\n\nfunction updateInput() {\n    const formInput = localStorage.getItem(LOCALSTORAGE_KEY)\n    const parsedFormInput = JSON.parse(formInput)\n    if (parsedFormInput) {\n        form.elements.email.value = parsedFormInput.email || ''\n        form.elements.message.value = parsedFormInput.message || ''\n    } \n}\n\n\n\nfunction onFormInput(e) {\n    e.preventDefault()\n    formData[e.target.name] = e.target.value;\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    const { elements: { email, message } } = e.currentTarget;\n    const formObject = { email: email.value, message: message.value }\n    if (email.value === '' || message.value === '') {\n        return alert('Fill in all the fields!')\n    }\n    console.log(formObject)\n    localStorage.removeItem(LOCALSTORAGE_KEY)\n    form.reset()\n    // const formData = new FormData(e.currentTarget)\n    // formData.forEach((value, name) => {\n    //     if (name === '' || value === '') {\n    //         alert('Zapovny polya!')\n    //     } else {\n    //         localStorage.setItem(JSON.stringify({name, value}))\n    //         console.log({name, value})\n    //     }\n    //     form.reset()\n    // })\n}\n"],"names":["formInput","parsedFormInput","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$formData","localStorage","getItem","JSON","parse","addEventListener","e","preventDefault","target","name","value","setItem","stringify","_elements","currentTarget","elements","email","message","formObject","alert","console","log","removeItem","reset"],"version":3,"file":"03-feedback.357c9458.js.map"}